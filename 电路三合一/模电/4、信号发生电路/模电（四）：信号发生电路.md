# 模电（四）：信号发生电路

## 1、正弦波振荡电路

### ①概述

#### （Ⅰ）产生正弦波振荡的条件

- 自激振荡的控制**存在不确定因素**，因此不能作为信号源

- 正弦波振荡电路**引入正反馈以满足振荡条件**，而且**外加选频网络使振荡频率人为可控**

- 电路框图

  

  - 当输入量为 0 时，由于**电扰动（如合闸通电的瞬间）**，电路产生一个**幅值很小、含有丰富频率**的输出量
  
  - 该输出在**正反馈**的作用下使 $X_o$ 增大至某一确定值（受晶体管的非线性特性和电源的限制），此时电路达到动态平衡
    $$
    \dot X_o=\dot A\dot X_f=\dot A\dot F\dot X_o
    $$
  
  - 即：**正弦波振荡的平衡条件**为：
    $$
    \dot A\dot F=1
    $$
  
  - 写成**幅值与相角的形式**为：
    $$
    \begin{cases}
    幅值条件：|\dot A\dot F|=1
    \\相位条件：\phi_A+\phi_B=2n\pi\ \ \ \ \ (n为整数)
    \end{cases}
    $$
  
  - 为了使输出量在合闸后能够有一个从小到大直至平衡在一定幅值的过程，电路的**起振条件**为：
    $$
    |\dot A\dot F|>1
    $$

  - **电路把频率 $f=f_0$ 以外的输出量均逐渐衰减为 0 ，因此输出量为 $f=f_0$  的正弦波**

    - 在负反馈电路中，若在低频段或高频段中存在频率 $f_0$ ，使电路产生的附加相移为 $\pm\pi$

      - 且当 $f=f_0$ 时，有：
  
      $$
      |\dot A\dot F|>1
      $$

    - 则电路将产生自激激荡
  
    

#### （Ⅱ）正弦波振荡电路的组成及分类

- 四个组成部分
  - **放大电路**：保证电路能有从起振到幅值逐渐增大直至动态平衡的过程
  
  - **选频网络**：确定电路的振荡频率
  
  - **正反馈网络**：使放大电路的输入信号等于反馈信号
  
  - **稳幅环节（非线性环节）**：使输出信号幅值稳定
  
    <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\非线性环节.png" style="zoom: 15%;" />
  
    - 在实用电路中，常将选频网络与正反馈网络二合一
    - 对于分立元件放大电路，不再另加稳幅环节，而是用晶体管特性的非线性来实现稳幅



- 三个分类
  - **RC正弦波振荡电路**：振荡频率较低，1MHz 左右
  - **LC正弦波振荡电路**：振荡频率多在 1MHz 以上
  - **石英晶体正弦波振荡电路**：可等效为LC正弦波振荡电路，特点是振荡频率非常稳定



#### （Ⅲ）判断电路是否可能产生正弦波振荡

- 观察电路是否包含四个组成部分

- 判断放大电路是否能够正常工作

- 利用瞬时极性法判断电路是否满足正弦波振荡的相位条件
  - 断开反馈，在断开出给放大电路加频率为 $f_0$ 的正弦波输入电压 $\dot U_i$，并给定其瞬时极性
  - 然后以 $\dot U_i$ 的极性为依据判断输出电压 $\dot U_o$ 的极性，从而得到 $\dot U_f$ 的极性
  - 若 $\dot U_i$ 与 $\dot U_f$ 极性相同，则说明满足相位条件
  - 说明电路有可能产生正弦波振荡

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\瞬时极性法.png" style="zoom: 40%;" />



### ②RC正弦波振荡电路

#### （Ⅰ）RC串并联选频网络

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\RC串并联选频网络.png" style="zoom: 40%;" />

- 当**信号频率足够低**时

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\低频段.png" style="zoom: 50%;" />
  $$
  \frac1{wC}\gg R
  $$

  - 当频率 f 趋于 0 时
    $$
    \dot U_f超前\dot U_o的相位趋近于 +90°，且|\dot U_f|趋近于0
    $$

- 当**信号频率足够高**时

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\高频段.png" style="zoom:50%;" />
  $$
  \frac1{wC}\ll R
  $$

  - 当频率 f 趋于 无穷大时
    $$
    \dot U_f滞后\dot U_o的相位趋近于 -90°，且|\dot U_f|趋近于0
    $$

- 即：
  $$
  存在一个频率 f_0，使得\dot U_f与\dot U_o同相
  $$

  - 取
    $$
    \omega_0=\frac1{RC}\\
    f_0=\frac1{2\pi RC}
    $$

  - 则：
    $$
    \dot F=\frac{\dot U_f}{\dot U_o}=\frac{R||\frac1{j\omega C}}{R+\frac1{j\omega C}+{R||\frac1{j\omega C}}}=\frac1{3+j(\omega RC-\frac1{\omega RC})}=\frac1{3+j(\frac f{f_0}-\frac{f_0}f)}
    $$
    
  - 幅频特性
    $$
    |\dot F|=\frac1{\sqrt{3^2+(\frac f{f_0}-\frac{f_0}f)^2}}
    $$
  
  - 相频特性
    $$
    \phi_F=-arctan\frac13(\frac f{f_0}-\frac{f_0}f)
    $$
  
  - 频率特性
  
    <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\RC频率特性.png" style="zoom:60%;" />
    $$
    当f=f_0时，\dot F=\frac13，即|\dot U_f|=\frac13|\dot U_o|，\phi_F=0°
    $$



#### （Ⅱ）RC桥式正弦波振荡电路

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\利用RC串并联选频网络构成正弦波振荡电路的框图.png" style="zoom: 40%;" />

- 由
  $$
  \dot F=\frac13
  $$

  - 得
    $$
    \dot A=\dot A_u=3
    $$

  - 表明：只要为RC串并联选频网络匹配一个电压放大倍数等于3（即**输出电压与输入电压同相，且放大倍数的数值为3**）的放大电路就可以构成正弦波振荡电路，考虑到起振条件，所选放大电路的电压放大倍数应该略大于3



- 所选用的放大电路应具有**大输入电阻、小输出电阻**，以减小放大电路对选频特性的影响，使振荡频率几乎仅仅取决于选频网络，故选用**同相比例运算电路**（电压串联负反馈）

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\RC桥式正弦波振荡电路.png" style="zoom: 40%;" />

  - $R_f$的取值要略大于 $2R_1$
    $$
    \dot A_u=\frac{\dot U_o}{\dot U_P}=1+\frac{R_f}{R}\geq3\\
    R_f\geq2R_1
    $$

  - 由于 U<sub>o</sub> 与 U<sub>f</sub> 具有良好线性关系，所以应**引入非线性环节**来稳定输出电压

    - **选用 $R_1$ 为正温度系数的热敏电阻**
      $$
      U_o ↑ → I_1 ↑ → W_1 ↑ → T_1 ↑ → R_1 ↑ → \dot A_u ↓ → U_o ↓
      $$

    - **选用 $R_f$ 为负温度系数的热敏电阻**

    - **在 $R_f$ 回路串联两个并联的二极管**

      <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\双二极管的非线性环节.png" style="zoom: 33%;" />

      - **电流增大时，二极管动态电阻减小**
        $$
        \dot A_u=1+\frac{R_f+r_d}{R_1}
        $$

  

- **振荡频率可调**的RC桥式正弦波振荡电路

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\振荡频率可调的RC桥式正弦波振荡电路.png" style="zoom: 35%;" />

  - **粗调：改变电容**

  - **微调：改变电位器 $R_{W}$ 滑动端**

    - 已知

    $$
    f_{0}=\frac1{2\pi RC}
    $$

    ​		得
    $$
    f_{0min}=\frac1{2\pi (R+R_W)C_{max}}\\
    f_{0max}=\frac1{2\pi RC_{min}}
    $$
    



### ③LC正弦波振荡电路（了解）

- LC并联网络的选频特性

  - 网络

    - 理想

      <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\理想LC.png" style="zoom: 40%;" />

    - 考虑损耗

      <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\考虑损耗的LC.png" style="zoom: 40%;" />


  - 谐振频率
    $$
    f_0=\frac1{2\pi \sqrt{LC}}
    $$




- 变压器反馈式振荡电路

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\变压器反馈式振荡电路.png" style="zoom: 35%;" />

  - 优点：易振、波形较好
  - 缺点：耦合不紧密、损耗大、频率稳定性不高



- 电感反馈式电路

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\电感反馈式电路.png" style="zoom:35%;" />

  - 优点：耦合紧密、易振、振幅大、C用可调电容可获得较宽范围的振荡频率
  - 缺点：波形较差，常含有高次谐波

  $$
  f_0\simeq\frac1{2\pi \sqrt{(L_1+L_2+2M)C}}
  $$




- 电容反馈式电路

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\电容反馈式电路.png" style="zoom: 33%;" />

  - 优点：波形好，振荡频率调整范围小，适于频率固定的场合
    $$
    f_0\simeq\frac1{2\pi \sqrt{L\frac{C_1C_2}{C_1+C_2}}}
    $$
    



### ④石英晶体正弦波振荡电路（了解）

- 石英晶体的特点

  - SiO<sub>2</sub> 结晶体按一定方向切割的晶片
  - 工作原理
    - 压电效应：交变电场→机械振动→交变电场
    - 压电振荡：交变电场的频率为某一特定值（固有频率、谐振频率）时，振幅增大，产生共振

  - 固有频率只决定于其几何尺寸，故非常稳定

- 并联型电路

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\并联型电路.png" style="zoom: 40%;" />

  - 石英晶体工作在感性区
  - 电容反馈式正弦波振荡电路

- 串联型电路

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\串联型电路.png" style="zoom: 40%;" />

  - 石英晶体工作在串联谐振下
  - 两级放大电路分别为共基和共集接法



## 2、非正弦波发生电路

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\常见非正弦波.jpg" style="zoom: 30%;" />

### ①矩形波发生电路

#### （Ⅰ）概述

- 矩形波发生电路是其他非正弦波发生电路的基础
  - 接入积分运算电路 → 三角波电压
  - 改变积分电路正向积分和反向积分的时间常数 → 锯齿波

- 输出无稳态，有两个暂态

  - 若定义输出高电平为第一暂态，则输出低电平为第二暂态

  

#### （Ⅱ）电路组成及工作原理

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\矩形波发生电路.png" style="zoom: 50%;" />

- 基本组成部分

  - **开关电路**：输出只有高电平和低电平，采用**电压比较器**
  - **反馈网络**：输出端的两种状态自动进行转换，**引入反馈**
  - **延迟环节**：使两个状态均维持一定时间，采用**RC电路**

- 电路组成

  - RC电路
  - **反相输入滞回比较器**

- 电压传输特性

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\矩形波发生电路电压传输特性.png" style="zoom: 60%;" />

$$
±U_T=±\frac{R_1}{R_1+R_2}·U_z
$$

- 原理：

  - 正向充电
    $$
    u_o(+U_Z)\rarr R_3 \rarr C \rarr GND
    $$

  - 反向充电
    $$
    GND\rarr C \rarr R_3 \rarr u_o(-U_Z)
    $$

  - 分析方法

    - 方法一

      - 设电路已振荡，且在某一暂态，看是否能自动翻转为另一暂态，并能再回到原暂态

      

    - 方法二

      - 电路合闸通电，分析电路是否有两个暂态而无稳态
    
      - 设合闸通电时，电容上的电压为0，产生正反馈过程：
        $$
        u_o\uarr\ \rarr u_P \uarr \ \rarr u_o\uarr\uarr
        $$
    
      - 直至：
        $$
        u_o=U_Z\\u_P=+U_T
        $$
        为第一暂态
    
      - 此时电容正向充电，直至：
        $$
        u_N=+U_T<+U_Z
        $$
        此时再略微增大，则有跃变：
        $$
        u_o=-U_Z\\
        u_P=-U_T
        $$
        为第二暂态
    
      - 此时电容反向充电，直至：
        $$
        u_N=-U_T>-U_Z
        $$
        此时再略微减小，则有跃变：
        $$
        u_o=U_Z\\u_P=+U_T
        $$
        又返回第一暂态，如此周而复始，电路产生自激激荡



#### （Ⅲ）波形分析及主要参数

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\方波发生电路的波形图.png" style="zoom: 33%;" />

- **矩形波宽度 T<sub>k</sub> 与周期 T 之比称为占空比 q**
  $$
  q=\frac{T_k}{T}
  $$

- 一阶电路瞬态分析的三要素法：
  $$
  f(t)=f(\infty)+[f(0_+)-f(\infty)]^{e^{-\frac{t}{\tau}}}\\
  其中：f(t)为电压或电流，f(0_+)为初始值，f(\infty)为稳态值，\tau为时间常数
  $$
  
- 由三要素法可求得：
  $$
  \begin{flalign*}
  &时间常数：\tau_充={R_3C}\\
  &电容电位：u_N=u_C=u_C(∞)+[u_C(0_+)-u_C(∞)]^{e^{-\frac{t}{\tau_充}}}\\
  &阈值电压：+U_T=U_Z+[-U_T-U_Z]^{e^{-\frac{t}{\tau_充}}}
  \end{flalign*}
  $$

  - 得到：
    $$
    (U_Z+U_T)(1-e^{-\frac{\frac T2}{R_3C}})+(-U_T)=+\frac{R_1}{R_1+R_2}·U_Z
    $$

  - 进而求出**振荡周期**
    $$
    T=2R_3C\ln{(1+\frac{2R_1}{R_2})}
    $$
    **振荡频率**
    $$
    f=\frac1T
    $$
  
- **调整电压比较器的电路参数 $R_1$ 和 $R_2$ 可以改变 $u_C$ 的幅值**

- **调整电阻 $R_1$ 、$R_2$、$R_3$ 和电容 C 的数值可以改变电路的振荡频率**

- **更换稳压管改变 $U_Z$ 可以调整输出电压 $u_o$ 的振幅，此时 $u_C$ 的振幅也将随之变化**



#### （Ⅳ）占空比可调电路

- 利用二极管的单向导电性，引导电流流经不同通路，实现正向充电与反向充电的时间不同

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\占空比可调的矩形波发生电路.png" style="zoom: 40%;" />
  $$
  \tau_1\simeq(R_{w1}+R_3)C\\
  \tau_2\simeq(R_{w2}+R_3)C
  $$

  - 由一阶RC电路的三要素法
    $$
    \begin{cases}
    T_1\simeq\tau_1\ln{(1+\frac{2R_1}{R_2})}\\
    T_2\simeq\tau_2\ln{(1+\frac{2R_1}{R_2})}\\
    \end{cases}
    $$
    进而：
    $$
    T=T_1+T_2\simeq(R_w+2R_3)C\ln{(1+\frac{2R_1}{R_2})}
    $$

    - 表明：改变电位器的滑动端可以**改变占空比**，且周期不变
      $$
      q=\frac{T_1}T\simeq\frac{R_{w1}+R_3}{R_w+2R_3}
      $$
      
  
  - **如果没有稳压管，则幅值为放大器输出幅值**



### ②三角波发生电路

#### （Ⅰ）电路组成

- 将矩形波发生电路的输出作为积分电路的输入

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\三角波电路1.png" style="zoom:45%;" />

- 由于电路有存在RC电路和积分电路的两个延迟环节，在实用电路中常将其合二为一

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\三角波发生电路2.png" style="zoom: 45%;" />

  - 左边为**同相输入滞回比较器**，右边为**积分运算电路**
  - **滞回比较器和积分运算电路的输出互为另一个电路的输入**
  - 由于原本RC回路充电方向与积分电路的积分方向相反，故滞回比较器改为同相输入



#### （Ⅱ）工作原理

- 三角波发生电路中滞回比较器的电压传输特性

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\三角波发生电路中滞回比较器的电压传输特性.png" style="zoom: 67%;" />

- 通过计算得：
  $$
  ±U_T=±\frac{R_1}{R_2}U_Z\\u_o=-\frac1{R_3C}U_{o1}(t_1-t_0)+u_o(t_0)
  $$

  - $u_o$(t<sub>0</sub>) 为初态时的输出电压



- 设初态时 $u_{o1}$ 正好从 - $U_Z$  跃变为 + $U_Z$，则：
  $$
  u_o=-\frac1{R_3C}U_{Z}(t_1-t_0)+u_o(t_0)
  $$

- 此时积分电路反向积分，$u_o$ 随时间的增长线性下降，一旦 $u_o=-U_T$ ，再稍减小，$u_{o1}$ 将从 + $U_Z$  跃变为 $-U_Z$ 

  - 即
    $$
    u_o=\frac1{R_3C}U_{Z}(t_1-t_0)+u_o(t_1)
    $$

    - $u_o$(t<sub>1</sub>) 为 $u_{o1}$ 产生跃变时的输出电压 

- 之后，积分电路开始正向积分，$u_o$ 随时间的增长线性增大，一旦 $u_o$ = + $U_T$ ，再稍增大，$u_{o1}$ 将从 - $U_Z$  跃变为 + $U_Z$，回到初态，积分电路又开始反向积分，周而复始，产生自激激荡



- 振荡频率

  <img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\三角波-方波发生电路的波形图.png" style="zoom:60%;" />

  - 由
    $$
    \frac{R_1}{R_2}U_Z=+U_T=\frac1{R_3C}U_Z·\frac T2+(-U_T)
    $$

  - 得
    $$
    T=\frac{4R_1R_3C}{R_2}\\
    f=\frac{R_2}{4R_1R_3C}
    $$

    - **调节 $R_1$ 、$R_2$、$R_3$的阻值和 $C$ 的容量，可以改变振荡频率**
    - **调节 $R_1$ 、$R_2$ 的阻值，可以改变三角波的幅值**



### ③锯齿波发生电路

- 利用二极管的单向导电性，使积分电路两个方向的积分通路不同，就可以得到锯齿波发生电路

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\锯齿波发生电路.png" style="zoom: 50%;" />

<img src="D:\Study\Note\电路三合一\模电\4、信号发生电路\photos\锯齿波发生电路的波形.png" style="zoom:50%;" />
$$
T_1=\frac{2R_1(R_3+R_{W1})C}{R_2}\\
T_2=\frac{2R_1(R_3+R_{W2})C}{R_2}
$$

$$
T=\frac{2R_1(2R_3+R_W)C}{R_2}\simeq T_2\\
q=\frac{T_1}T=\frac{R_3+R_{W1}}{2R_3+R_W}
$$

- **调节 $R_1$ 、$R_2$ 的阻值，可以改变锯齿波的幅值**
- **调节 $R_1$ 、$R_2$、$R_{W}$ 的阻值和 $C$ 的容量，可以改变振荡周期 **
- **改变电位器滑动端的位置，可以改变 $u_{o1}$ 的占空比，以及锯齿波上升下降的斜率**